const getTheme$$module$javascript$ipotesi_theme=()=>{const a=localStorage.getItem("theme");a&&"dark"==a&&setDark$$module$javascript$ipotesi_theme()},setLight$$module$javascript$ipotesi_theme=()=>{document.body.classList.remove("theme-dark");document.body.classList.add("theme-light");localStorage.setItem("theme","light")},setDark$$module$javascript$ipotesi_theme=()=>{document.body.classList.remove("theme-light");document.body.classList.add("theme-dark");localStorage.setItem("theme","dark")};
var module$javascript$ipotesi_theme={getTheme:getTheme$$module$javascript$ipotesi_theme,setDark:setDark$$module$javascript$ipotesi_theme,setLight:setLight$$module$javascript$ipotesi_theme};const nodrag_tds$$module$javascript$uadrag=["input","select","a"],nodrag_cls$$module$javascript$uadrag="nodrag";
var UaDrag$$module$javascript$uadrag=function(a){return function(c){let b=0,d=0,e=0,f=0;const k=function(g){g=g||window.event;g.preventDefault();b=e-g.clientX;d=f-g.clientY;e=g.clientX;f=g.clientY;c.style.top=c.offsetTop-d+"px";c.style.left=c.offsetLeft-b+"px"},l=function(){document.onmouseup=null;document.onmousemove=null};c.onmousedown=function(g){g=g||window.event;let h=g.target;!(h=h||null)||nodrag_tds$$module$javascript$uadrag.includes(h.tagName.toLowerCase())||h.classList.contains(nodrag_cls$$module$javascript$uadrag)||
(g.preventDefault(),e=g.clientX,f=g.clientY,document.onmouseup=l,document.onmousemove=k)}}(a)},module$javascript$uadrag={};module$javascript$uadrag.UaDrag=UaDrag$$module$javascript$uadrag;var UaWindowAdm$$module$javascript$uawindow={ws:{},create(a,c=null){let b=document.getElementById(a);b||(b=document.createElement("div"),c?document.getElementById(c).appendChild(b):document.body.appendChild(b),b.id=a,b.setAttribute("data-name","ua-window"),c=this.newUaWindow(b),this.ws[a]=c);a=this.ws[a];b.style.display="none";return a},get(a){return this.ws[a]?this.ws[a]:null},show(a){this.ws[a]&&this.ws[a].show()},close(a){this.ws[a]&&this.ws[a].close()},toggle(a){this.ws[a]&&this.ws[a].toggle()},
hide(a){this.ws[a]&&this.ws[a].hide()},closeThis(a){a=a.closest('[data-name="ua-window"]').id;this.ws[a].close()},showAll(){for(let a in this.ws)this.ws[a].show()},hideAll(){for(let a in this.ws)this.ws[a].hide()},closeAll(){for(let a in this.ws)this.ws[a].close()},remove(a){this.ws[a]&&(document.getElementById(a).remove(),this.ws[a]=null,delete this.ws[a])},removeAll(){for(let a in this.ws)this.remove(a);this.ws={}},newUaWindow(a){let c={initialize(b){this.w=b;this.wy=this.wx="0px";this.isVisible=
this.isOpen=!1;this.firstShow=!0;this.wz=this.pos=0;this.vh=this.vw="px"},vw_vh(){this.vw="vw";this.vh="vh";return this},addClassStyle(b){this.w.classList.contains(b)||this.w.classList.add(b);return this},removeClassStyle(b){this.w.classList.contains(b)&&this.w.classList.remove(b);return this},getWindow(){alert("getWindow => ??");return this.w},getElement(){return this.w},getId(){return this.w.id},setStyle(b){for(const d in b)this.w.style[d]=b[d];return this},setHtml(b){this.w.innerHTML=b;return this},
getHtml(){return this.w.innerHTML},setXY(b,d,e=0){this.wx=b;this.wy=d;this.pos=e;return this},setCenterY(b,d){this.setXY((window.innerWidth-this.w.clientWidth)/2,b,d);return this},setCenter(b){this.setXY((window.innerWidth-this.w.clientWidth)/2,(window.innerHeight-this.w.clientHeight)/2,b);return this},linkToId(b,d,e,f){b=document.getElementById(b);this.linkToElement(b,d,e,f);return this},linkToElement(b,d,e,f){d=b.offsetLeft+b.offsetWidth+d;b=b.offsetTop+e;0>b&&(b=0);this.setXY(d,b,f);return this},
setZ(b){this.wz=b;return this},reset(){this.firstShow=!0;return this},toggle(){this.isVisible?this.hide():this.show();return this},show(){if(this.firstShow||1==this.pos||0===this.pos&&!1===this.isVisible)this.w.style.position="absolute",this.w.style.marginLeft=0,this.w.style.marginTop=0,this.w.style.top=`${this.wy}${this.vh}`,0<=this.wx?this.w.style.left=`${this.wx}${this.vw}`:this.w.style.right=-`${this.wx}${this.vw}`,0<this.wz&&(this.w.style.zIndex=this.wz);this.w.style.display="";this.firstShow=
!1;this.isOpen=this.isVisible=!0;return this},hide(){this.w.style.display="none";this.isVisible=!1;return this},close(){this.w.style.display="none";this.w.innerHTML="";this.isOpen=!1;return this},remove(){UaWindowAdm$$module$javascript$uawindow.remove(this.w.id);return null},drag(){UaDrag$$module$javascript$uadrag(this.w);return this}};c.initialize(a);return c}},module$javascript$uawindow={};module$javascript$uawindow.UaWindowAdm=UaWindowAdm$$module$javascript$uawindow;const HttpService$$module$javascript$ipotesi_http={cacheBuster:(new Date).getTime(),async getText(a){try{var c=await fetch(`${a}?cacheBuster=${this.cacheBuster}`,{headers:{"Content-Type":"text/plain"}});if(!c.ok)throw Error(`Errore HTTP: ${c.status}`);return await c.text()}catch(b){throw c=b instanceof Error?b.message:"Errore sconosciuto",console.error(`Errore getText()  ${a}:`,c),alert(`Errore getText()  ${a}\n${c}`),b;}},async getJson(a){try{var c=await fetch(`${a}?cacheBuster=${this.cacheBuster}`,
{headers:{"Content-Type":"application/json"}});if(!c.ok)throw Error(`Errore HTTP: ${c.status}`);return await c.json()}catch(b){throw c=b instanceof Error?b.message:"Errore sconosciuto",console.error(`Errore getJson()  ${a}:`,c),alert(`Errore getJson()  ${a}\n${c}`),b;}},fetchText(a,c){fetch(`${a}?cacheBuster=${this.cacheBuster}`).then(b=>{if(!b.ok)throw Error(`HTTP error ${b.status}\nfetchText\nurl:${a}`);return b.text()}).then(b=>c(b)).catch(b=>{console.error(`Error fetchText ${a}`,b);alert(`Error fetchText ${a}\n${b}`)})},
fetchJson(a,c){fetch(`${a}?cacheBuster=${this.cacheBuster}`).then(b=>{if(!b.ok)throw Error(`HTTP error ${b.status}\nfetchJson\nurl:${a}`);return b.json()}).then(b=>c(b)).catch(b=>{console.error(`Error fetchJson ${a}`,b);alert(`Error fetchJson ${a}\n${b}`)})},async getPdf(a){try{var c=await fetch(a);if(!c.ok)throw Error(`Errore HTTP: ${c.status}`);return await c.arrayBuffer()}catch(b){throw c=b instanceof Error?b.message:"Errore sconosciuto",console.error(`Errore getPdf() ${a}:`,c),alert(`Errore getPdf() ${a}\n${c}`),
b;}}};var module$javascript$ipotesi_http={HttpService:HttpService$$module$javascript$ipotesi_http};const eventHandlers$$module$javascript$event_manager=new Map,handleEvent$$module$javascript$event_manager=a=>{const c=eventHandlers$$module$javascript$event_manager.get(a.type);if(c)for(let b=a.target;b&&b!==document;b=b.parentElement)if(b.matches)for(const [d,e]of c.entries())b.matches(d)&&[...e].forEach(f=>f(a,b))},EventManager$$module$javascript$event_manager={on(a,c,b){if(!eventHandlers$$module$javascript$event_manager.has(a)){const d=new Map;eventHandlers$$module$javascript$event_manager.set(a,
d);document.addEventListener(a,handleEvent$$module$javascript$event_manager,!1)}a=eventHandlers$$module$javascript$event_manager.get(a);a.has(c)||a.set(c,[]);a.get(c).push(b)},off(a,c,b){const d=eventHandlers$$module$javascript$event_manager.get(a);if(d&&d.has(c)){if(b){const e=d.get(c).filter(f=>f!==b);0<e.length?d.set(c,e):d.delete(c)}else d.delete(c);0===d.size&&(eventHandlers$$module$javascript$event_manager.delete(a),document.removeEventListener(a,handleEvent$$module$javascript$event_manager,
!1))}},once(a,c,b){const d=(e,f)=>{b(e,f);EventManager$$module$javascript$event_manager.off(a,c,d)};EventManager$$module$javascript$event_manager.on(a,c,d)}};var module$javascript$event_manager={EventManager:EventManager$$module$javascript$event_manager};class TextToSpeech$$module$javascript$ipotesi_speak{constructor(){this.panel=this.isReading=!1;this.textCurrent="";this.voices=[];this.synth=window.speechSynthesis}init(){this.synth?(this.populateVoiceList(),void 0!==this.synth.onvoiceschanged&&(this.synth.onvoiceschanged=()=>this.populateVoiceList()),this.registerEventHandlers()):console.warn("Speech Synthesis non \u00e8 supportato da questo browser.")}registerEventHandlers(){EventManager$$module$javascript$event_manager.on("click","#btn-save-speak",
()=>this.saveSpeak());EventManager$$module$javascript$event_manager.on("click","#btn-close-speak",()=>this.closeSpeak());EventManager$$module$javascript$event_manager.on("input",'#id_voices input[type="range"]',(a,c)=>{if(a=c.parentElement.querySelector("span"))a.textContent=c.value})}populateVoiceList(){this.voices=this.synth.getVoices().filter(a=>a.lang.startsWith("it"))}openSpeak(){if(this.synth){this.panel=!0;var a=this.loadSettings(),c=`
      <div id="configPanel" class="panel-speak">
        <div class="toolbar">
          <button id="btn-save-speak">Salva</button>
          <button id="btn-close-speak">X</button>
        </div>
        <div id="id_voices">
          <div class="voice-row">
            <label for="voice">Voce</label>
            <select id="voice" name="voice">${this.voices.map(d=>`<option value="${d.name}" ${a.voice===d.name?"selected":""}>${d.name} (${d.lang})</option>`).join("")}</select>
          </div>
          <div class="voice-row">
            <label for="amplitude">Volume</label>
            <div>
              <input type="range" min="0" max="1" step="0.1" value="${a.amplitude}" name="amplitude" id="amplitude" />
              <span>${a.amplitude}</span>
            </div>
          </div>
          <div class="voice-row">
            <label for="pitch">Tono</label>
            <div>
              <input type="range" min="0" max="2" step="0.1" value="${a.pitch}" name="pitch" id="pitch" />
              <span>${a.pitch}</span>
            </div>
          </div>
          <div class="voice-row">
            <label for="speed">Velocit\u00e0</label>
            <div>
              <input type="range" min="0.1" max="2" step="0.1" value="${a.speed}" name="speed" id="speed" />
              <span>${a.speed}</span>
            </div>
          </div>
        </div>
      </div>
      `,b=UaWindowAdm$$module$javascript$uawindow.create("id_speak");b.setZ(1E3);b.setHtml(c);b.vw_vh().setXY(30,50,-1);b.show();b.drag();this.setSpeak()}else alert("La sintesi vocale non \u00e8 supportata da questo browser.")}setSpeak(){const a=this.loadSettings(),c=document.getElementById("id_voices");c&&(c.querySelector('[name="amplitude"]').value=a.amplitude,c.querySelector('[name="pitch"]').value=a.pitch,c.querySelector('[name="speed"]').value=a.speed,c.querySelector('[name="amplitude"]').parentElement.querySelector("span").innerText=
a.amplitude,c.querySelector('[name="pitch"]').parentElement.querySelector("span").innerText=a.pitch,c.querySelector('[name="speed"]').parentElement.querySelector("span").innerText=a.speed)}closeSpeak(){this.saveSpeak();UaWindowAdm$$module$javascript$uawindow.close("id_speak");this.panel=!1}toggleSpeak(){this.panel?this.closeSpeak():this.openSpeak()}saveSpeak(){var a=document.getElementById("id_voices");if(a){var c=a.querySelector('[name="voice"]').value,b=a.querySelector('[name="amplitude"]').value,
d=a.querySelector('[name="pitch"]').value;a=a.querySelector('[name="speed"]').value;this.saveSettings(c,b,d,a)}}saveSettings(a,c,b,d){localStorage.setItem("voice",a);localStorage.setItem("amplitude",c);localStorage.setItem("pitch",b);localStorage.setItem("speed",d)}loadSettings(){const a={};a.voice=localStorage.getItem("voice")||"default";a.amplitude=localStorage.getItem("amplitude")||1;a.pitch=localStorage.getItem("pitch")||1;a.speed=localStorage.getItem("speed")||1;for(let c in a)"undefined"===
a[c]&&(a[c]="1");return a}stopReading(){if(this.isReading){const a=document.getElementById("btn-toggle-reading");a&&(a.innerText="\u25b6");this.synth.cancel();this.isReading=!1}}toggleReading(a){if(this.synth)if(this.textCurrent=a,this.isReading)this.stopReading();else{const c=document.getElementById("btn-toggle-reading");c&&(c.innerText="\u23f8");this.isReading=!0;const b=this.loadSettings();a=this.cleanupText(this.textCurrent);a=new SpeechSynthesisUtterance(a);const d=this.voices.find(f=>f.name===
b.voice);d&&(a.voice=d);a.volume=b.amplitude;a.rate=b.speed;a.pitch=b.pitch;a.lang="it-IT";const e=()=>{this.isReading=!1;c&&(c.innerText="\u25b6")};a.onend=e;a.onerror=f=>{console.error("Errore nella sintesi vocale:",f.error);e()};this.synth.speak(a)}}cleanupText(a){return a.replace(/<[^>]+>/g,"").replace(/&[^;]+;/g,"").replace(/[#@*]/g,"")}}const tts$$module$javascript$ipotesi_speak=new TextToSpeech$$module$javascript$ipotesi_speak;var module$javascript$ipotesi_speak={tts:tts$$module$javascript$ipotesi_speak};class Reader$$module$javascript$ipotesi_reader{constructor(){this.fsizeDef=this.fontSize=18;this.fsizeMax=32;this.fsizeMin=14;this.fsizeKey="fsize_reader";this.urlCurrent=this.textCurrent="";this.isReaderOpen=!1;this.registerEventHandlers()}registerEventHandlers(){EventManager$$module$javascript$event_manager.on("click","#btn-read-pdf",()=>this.readPDF());EventManager$$module$javascript$event_manager.on("click","#btn-toggle-speak",()=>tts$$module$javascript$ipotesi_speak.toggleSpeak());EventManager$$module$javascript$event_manager.on("click",
"#btn-toggle-reading",()=>tts$$module$javascript$ipotesi_speak.toggleReading(this.textCurrent));EventManager$$module$javascript$event_manager.on("click","#btn-increase-font",()=>this.increaseFontSize());EventManager$$module$javascript$event_manager.on("click","#btn-decrease-font",()=>this.decreaseFontSize());EventManager$$module$javascript$event_manager.on("click","#btn-fullscreen",()=>this.openFullscreen());EventManager$$module$javascript$event_manager.on("click","#btn-close-reader",()=>this.closeReader());
EventManager$$module$javascript$event_manager.on("keydown","body",a=>{"Escape"===a.key&&this.isReaderOpen&&this.closeReader()})}fh(a){return`
        <div class="text-reader" id="reader">
            <div class="toolbar">
                <span>chiudi:(Esc)</span>
                <button id="btn-read-pdf" class="tt-bottom" data-tt="Apri pagina PDF">PDF</button>
                <button id="btn-toggle-speak" class="tt-bottom" data-tt="Configura lettore">\u2699\ufe0f</button>
                <button id="btn-toggle-reading" class="tt-bottom" data-tt="Start/Sop lettore">\u25b6</button>
                <button id="btn-increase-font" class="tt-bottom" data-tt="Font +">A+</button>
                <button id="btn-decrease-font" class="tt-bottom" data-tt="Font -">A-</button>
                <button id="btn-fullscreen" class="tt-left" data-tt="Apri/Chiudi Schermo Intero">\u26f6</button>
                <button id="btn-close-reader" class="tt-left" data-tt="Chiudi">X</button>
            </div>
            <div class="content" id="content">
            ${a}
            </div>
        </div>
`}showReader(a){this.textCurrent=a;a=this.fh(a);const c=UaWindowAdm$$module$javascript$uawindow.create("id_reader");c.setZ(12);c.vw_vh().setXY(.1,10.2,-1);c.setHtml(a);c.show();this.defaultFontSize()}openReader(a){this.urlCurrent=a;HttpService$$module$javascript$ipotesi_http.fetchText(a,c=>this.showReader(c));this.isReaderOpen=!0}async readPDF(){if(this.urlCurrent){var a=this.urlCurrent.replace("data/","data/pdf/").replace(".html",".pdf");try{const c=await HttpService$$module$javascript$ipotesi_http.getPdf(a),
b=new Blob([c],{type:"application/pdf"}),d=URL.createObjectURL(b);window.open(d,"_blank")}catch(c){console.error("Errore durante la lettura del PDF:",c)}}}closeReader(){this.isReaderOpen&&(this.isReaderOpen=!1,tts$$module$javascript$ipotesi_speak.closeSpeak(),tts$$module$javascript$ipotesi_speak.stopReading(),UaWindowAdm$$module$javascript$uawindow.close("id_reader"),document.fullscreenElement&&document.exitFullscreen().catch(a=>console.error(a)))}defaultFontSize(){var a=localStorage.getItem(this.fsizeKey);
a=parseInt(a,10);isNaN(a)&&(a=this.fsizeDef);this.fontSize=a;if(a=document.getElementById("content"))a.style.fontSize=`${this.fontSize}px`}increaseFontSize(){const a=document.getElementById("content");a&&(this.fontSize=Math.min(this.fontSize+2,this.fsizeMax),a.style.fontSize=`${this.fontSize}px`,localStorage.setItem(this.fsizeKey,this.fontSize.toString()))}decreaseFontSize(){const a=document.getElementById("content");a&&(this.fontSize=Math.max(this.fontSize-2,this.fsizeMin),a.style.fontSize=`${this.fontSize}px`,
localStorage.setItem(this.fsizeKey,this.fontSize.toString()))}openFullscreen(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen().catch(a=>console.error(a)):document.documentElement.requestFullscreen().catch(a=>console.error(a))}}const reader$$module$javascript$ipotesi_reader=new Reader$$module$javascript$ipotesi_reader;var module$javascript$ipotesi_reader={reader:reader$$module$javascript$ipotesi_reader};const WndDiv$$module$javascript$ipotesi_ui=a=>({w:UaWindowAdm$$module$javascript$uawindow.create(a),out:null,show(c){wnds$$module$javascript$ipotesi_ui.closeAll();c=`
<div class="window-text">
<div class="btn-wrapper">
<button class="btn-close-wnd tt-left" data-tt="chiudi">X</button>
</div>
<div class="div-text">${c}</div>
</div>
    `;this.w.drag();this.w.setZ(12);this.w.vw_vh().setXY(0,10,-1);this.w.setHtml(c);this.w.show()},close(){this.w.close()},open(c){HttpService$$module$javascript$ipotesi_http.fetchText(c,b=>this.show(b))}}),wnds$$module$javascript$ipotesi_ui={wdiv:null,init(){this.wdiv=WndDiv$$module$javascript$ipotesi_ui("id_w0");EventManager$$module$javascript$event_manager.on("click",".btn-close-wnd",(a,c)=>{(a=c.closest('[data-name="ua-window"]'))&&UaWindowAdm$$module$javascript$uawindow.close(a.id)})},closeAll(){UaWindowAdm$$module$javascript$uawindow.close("id_w0")}},
handleContentClick$$module$javascript$ipotesi_ui=(a,c)=>{a.preventDefault();(a=c.dataset.url)&&reader$$module$javascript$ipotesi_reader.openReader(a)},loadContent$$module$javascript$ipotesi_ui=(a,c)=>{c&&HttpService$$module$javascript$ipotesi_http.fetchText(a,b=>{c.innerHTML=b})},showSommario$$module$javascript$ipotesi_ui=function(){const a=document.getElementById("id_item1");a&&loadContent$$module$javascript$ipotesi_ui("./data/indice.html",a)},showIndici$$module$javascript$ipotesi_ui=function(){const a=
document.getElementById("id_item1");a&&loadContent$$module$javascript$ipotesi_ui("./data/archivio.html",a)};EventManager$$module$javascript$event_manager.on("click","#id_item1 a[data-url]",handleContentClick$$module$javascript$ipotesi_ui);var module$javascript$ipotesi_ui={showIndici:showIndici$$module$javascript$ipotesi_ui,showSommario:showSommario$$module$javascript$ipotesi_ui,wnds:wnds$$module$javascript$ipotesi_ui};const toggleMenu$$module$javascript$ipotesi_menu=()=>{const a=document.querySelector(".menu-h");a&&(a.classList.toggle("active"),document.body.classList.toggle("open-menu"),a.classList.contains("active")?a.setAttribute("data-tt","Close"):a.setAttribute("data-tt","Open"))},opHome$$module$javascript$ipotesi_menu=a=>{showSommario$$module$javascript$ipotesi_ui();toggleMenu$$module$javascript$ipotesi_menu();UaWindowAdm$$module$javascript$uawindow.closeAll()},opArchivio$$module$javascript$ipotesi_menu=
a=>{showIndici$$module$javascript$ipotesi_ui();toggleMenu$$module$javascript$ipotesi_menu();UaWindowAdm$$module$javascript$uawindow.closeAll()},opHelp$$module$javascript$ipotesi_menu=()=>{toggleMenu$$module$javascript$ipotesi_menu();UaWindowAdm$$module$javascript$uawindow.closeAll();wnds$$module$javascript$ipotesi_ui.wdiv.open("./html/help0.html")},opRedazione$$module$javascript$ipotesi_menu=()=>{toggleMenu$$module$javascript$ipotesi_menu();UaWindowAdm$$module$javascript$uawindow.closeAll();wnds$$module$javascript$ipotesi_ui.wdiv.open("./html/redazione.html")},
opCollaboatori$$module$javascript$ipotesi_menu=a=>{toggleMenu$$module$javascript$ipotesi_menu();UaWindowAdm$$module$javascript$uawindow.closeAll();wnds$$module$javascript$ipotesi_ui.wdiv.open("./html/collaboratori.html")},opIPOTESI$$module$javascript$ipotesi_menu=a=>{alert("IPOTESI")};
var module$javascript$ipotesi_menu={opArchivio:opArchivio$$module$javascript$ipotesi_menu,opCollaboatori:opCollaboatori$$module$javascript$ipotesi_menu,opHelp:opHelp$$module$javascript$ipotesi_menu,opHome:opHome$$module$javascript$ipotesi_menu,opIPOTESI:opIPOTESI$$module$javascript$ipotesi_menu,opRedazione:opRedazione$$module$javascript$ipotesi_menu,toggleMenu:toggleMenu$$module$javascript$ipotesi_menu};const initMenu$$module$javascript$app=()=>{document.body.classList.add("theme-light");EventManager$$module$javascript$event_manager.on("click",".menu-h",toggleMenu$$module$javascript$ipotesi_menu);EventManager$$module$javascript$event_manager.on("click","#btn-dark-theme",setDark$$module$javascript$ipotesi_theme);EventManager$$module$javascript$event_manager.on("click","#btn-light-theme",setLight$$module$javascript$ipotesi_theme);EventManager$$module$javascript$event_manager.on("click","#btn-help",
opHelp$$module$javascript$ipotesi_menu);EventManager$$module$javascript$event_manager.on("click","#btn-home",opHome$$module$javascript$ipotesi_menu);EventManager$$module$javascript$event_manager.on("click","#btn-archivio",opArchivio$$module$javascript$ipotesi_menu);EventManager$$module$javascript$event_manager.on("click","#btn-redazione",opRedazione$$module$javascript$ipotesi_menu);EventManager$$module$javascript$event_manager.on("click","#btn-collaboratori",opCollaboatori$$module$javascript$ipotesi_menu);
EventManager$$module$javascript$event_manager.on("keydown","body",a=>{const c=document.querySelector(".menu-h");"Escape"===a.key&&c&&c.classList.contains("active")&&toggleMenu$$module$javascript$ipotesi_menu()})},updateVersionAndDate$$module$javascript$app=()=>{var a=document.getElementById("app-script");a=a?a.src.split("?v=")[1]||"N/A":"N/A";window.APP_VERSION=a;console.log(`App Version: ${window.APP_VERSION}`);var c=new Date;String(c.getDate()).padStart(2,"0");String(c.getMonth()+1).padStart(2,
"0");c.getFullYear();if(c=document.getElementById("id_version"))c.textContent=`${a}`},openApp$$module$javascript$app=()=>{initMenu$$module$javascript$app();wnds$$module$javascript$ipotesi_ui.init();tts$$module$javascript$ipotesi_speak.init();getTheme$$module$javascript$ipotesi_theme();showSommario$$module$javascript$ipotesi_ui();updateVersionAndDate$$module$javascript$app()};document.addEventListener("DOMContentLoaded",openApp$$module$javascript$app);var module$javascript$app={};const UaJtfh$$module$javascript$uajtfh=()=>({rows:[],init(){this.rows=[];return this},insert(a){this.rows.unshift(a);return this},append(a){this.rows.push(a);return this},text(a=""){return this.rows.join(a)},html(a=""){return this.rows.join(a).replace(/\s+|\[rn\]/g," ")}});var module$javascript$uajtfh={UaJtfh:UaJtfh$$module$javascript$uajtfh};const SUPABASE_URL$$module$javascript$usage_tracker_mjs="https://svffobjftswdckfkkkib.supabase.co",SUPABASE_ANON_KEY$$module$javascript$usage_tracker_mjs="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN2ZmZvYmpmdHN3ZGNrZmtra2liIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ5NTIyMzksImV4cCI6MjA3MDUyODIzOX0.qAWczdr3VPJGz7RdG-0NDimRpGoavMfKtTg2hNxUlC0",TABLE_NAME$$module$javascript$usage_tracker_mjs="ipotesi",DISABLE_WHEN_LOCAL$$module$javascript$usage_tracker_mjs=!0;
async function trackAccess$$module$javascript$usage_tracker_mjs(){const a=`${SUPABASE_URL$$module$javascript$usage_tracker_mjs}/rest/v1/${TABLE_NAME$$module$javascript$usage_tracker_mjs}`,c={timestamp:(new Date).toISOString(),ip_address:null,user_agent:navigator.userAgent,page_url:window.location.href,referrer:document.referrer,country:"ipotesi",created_at:(new Date).toISOString()};try{const b=await fetch(a,{method:"POST",headers:{apikey:SUPABASE_ANON_KEY$$module$javascript$usage_tracker_mjs,Authorization:`Bearer ${SUPABASE_ANON_KEY$$module$javascript$usage_tracker_mjs}`,
"Content-Type":"application/json",Prefer:"return=minimal"},body:JSON.stringify(c)});b.ok?console.log("Usage Tracker: Accesso registrato con successo."):console.error(`Usage Tracker: Errore API Supabase. Status: ${b.status}`)}catch(b){console.error("Usage Tracker: Errore di rete o di script.",b)}}
function initUsageTracker$$module$javascript$usage_tracker_mjs(){const a="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname;DISABLE_WHEN_LOCAL$$module$javascript$usage_tracker_mjs&&a?console.log("Usage Tracker: Ambiente locale rilevato. Tracciamento disabilitato."):SUPABASE_URL$$module$javascript$usage_tracker_mjs&&SUPABASE_ANON_KEY$$module$javascript$usage_tracker_mjs&&!SUPABASE_URL$$module$javascript$usage_tracker_mjs.includes("INSERISCI")?setTimeout(trackAccess$$module$javascript$usage_tracker_mjs,
300):console.error("Usage Tracker: Credenziali non configurate.")}var module$javascript$usage_tracker_mjs={};module$javascript$usage_tracker_mjs.initUsageTracker=initUsageTracker$$module$javascript$usage_tracker_mjs;
